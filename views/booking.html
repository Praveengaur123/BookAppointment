<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
  <link rel="stylesheet" href="/main.css">
</head>

<body>
  <form class="form" id="userForm" onsubmit="userDetail(event)">
    <h1>Book Your Appointment</h1><br>
    <label for="username">Username</label>
    <input type="text" name="username" id="username" ><br><br>
    <label for="email">Email</label>
    <input type="email" name="email" id="email" /><br><br>
    <label for="phone">Phone No</label>
    <input type="tel" name="phone" id="phone" /><br><br>
    <button type="submit" class="submit">Submit</button>
  </form>
  <ul id="userList"></ul>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.5.1/axios.min.js"></script>
  <script src="../app.js"></script>
  <!--javascript code-->
<!-- <script>
function userDetail(event){
    event.preventDefault()
  const name=event.target.username.value
  const number=event.target.phone.value
  const email=event.target.email.value
  
  const obj={
    name,
    number,
    email
  };
  // localStorage.setItem(obj.email,JSON.stringify(obj))
  //showUser()
  axios.post("http://localhost:8080/user/add-user",obj)
  .then((response)=>{
    console.log(response)
    showUser(response.data.newUserDetail)
  })
  .catch((err)=>{
    document.body.innerHTML=document.body.innerHTML+"<h3>something went wrong</h3>";
    console.log(err)
  })
  }
  
    function showUser(obj){
      const userList=document.getElementById('userList')
  
      // assign the iD
      userList.id=obj.id
      const list=document.createElement('li')
      list.textContent=obj.name+'--'+obj.number+'--'+obj.email
  
      const deleteBtn=document.createElement('input')
      deleteBtn.type="button"
      deleteBtn.value="Delete"
      deleteBtn.onclick=()=>{
        axios.delete("",`${obj.id}`)
        .then((response)=>{
          userList.removeChild(list)
        })
        .catch((err)=>{
          console.log(err)
        })
      }
          list.appendChild(deleteBtn)
          userList.appendChild(list)
    }
    window.addEventListener("DOMContentLoaded",()=>{
    
    axios.get("http://localhost:8080/user/get-user")
    .then((response)=>{
      console.log(response);
      for(let i=0;i<response.data.length;i++){
        showUser(response.data[i])
    }
    })
    .catch((err)=>{
      console.log(err)
  
    })
  })
</script> -->
</body>

</html>